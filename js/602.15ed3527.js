"use strict";(self["webpackChunkshopvue"]=self["webpackChunkshopvue"]||[]).push([[602],{3602:function(t,s,n){n.r(s),n.d(s,{default:function(){return d}});n(7658);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"user"},[t.isLogin?s("div",{staticClass:"head-page"},[s("div",{staticClass:"head-img"},[s("img",{attrs:{src:t.avatar,alt:""}})]),s("div",{staticClass:"info"},[s("div",{staticClass:"mobile"},[t._v(t._s(t.userInfo.mobile))]),s("div",{staticClass:"vip"},[s("van-icon",{attrs:{name:"diamond-o"}}),t._v(" 普通会员 ")],1)])]):s("div",{staticClass:"head-page",on:{click:function(s){return t.$router.push({path:"/login",query:{backUrl:t.$route.fullPath}})}}},[t._m(0),t._m(1)]),s("div",{staticClass:"my-asset"},[s("div",{staticClass:"asset-left"},[s("div",{staticClass:"asset-left-item",on:{click:function(s){return t.$router.push("/wallet")}}},[s("span",[t._v(t._s(t.balance||0))]),s("span",[t._v("账户余额")])]),s("div",{staticClass:"asset-left-item",on:{click:function(s){return t.$toast("敬请期待")}}},[s("span",[t._v(t._s(t.points))]),s("span",[t._v("积分")])]),s("div",{staticClass:"asset-left-item",on:{click:function(s){return t.$router.push("/mycoupon")}}},[s("span",[t._v(t._s(t.coupon))]),s("span",[t._v("优惠券")])])]),s("div",{staticClass:"asset-right"},[s("div",{staticClass:"asset-right-item",on:{click:function(s){return t.$router.push("/wallet")}}},[s("van-icon",{attrs:{name:"balance-pay"}}),s("span",[t._v("我的钱包")])],1)])]),s("div",{staticClass:"order-navbar"},[s("div",{staticClass:"order-navbar-item",on:{click:function(s){return t.$router.push("/myorder?dataType=all")}}},[s("van-icon",{attrs:{name:"balance-list-o"}}),s("span",[t._v("全部订单")])],1),s("div",{staticClass:"order-navbar-item",on:{click:function(s){return t.$router.push("/myorder?dataType=payment")}}},[s("van-icon",{attrs:{name:"clock-o",badge:t.payment?t.payment:null}}),s("span",[t._v("待支付")])],1),s("div",{staticClass:"order-navbar-item",on:{click:function(s){return t.$router.push("/myorder?dataType=delivery")}}},[s("van-icon",{attrs:{name:"logistics",badge:t.delivery?t.delivery:null}}),s("span",[t._v("待发货")])],1),s("div",{staticClass:"order-navbar-item",on:{click:function(s){return t.$router.push("/myorder?dataType=received")}}},[s("van-icon",{attrs:{name:"send-gift-o",badge:t.received?t.received:null}}),s("span",[t._v("待收货")])],1)]),s("div",{staticClass:"service"},[s("div",{staticClass:"title"},[t._v("我的服务")]),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item",on:{click:function(s){return t.$router.push("/address")}}},[s("van-icon",{attrs:{name:"records"}}),s("span",[t._v("收货地址")])],1),s("div",{staticClass:"content-item",on:{click:function(s){return t.$router.push("/coupon/get")}}},[s("van-icon",{attrs:{name:"gift-o"}}),s("span",[t._v("领券中心")])],1),s("div",{staticClass:"content-item",on:{click:function(s){return t.$router.push("/mycoupon")}}},[s("van-icon",{attrs:{name:"gift-card-o"}}),s("span",[t._v("优惠券")])],1),s("div",{staticClass:"content-item",on:{click:function(s){return t.$toast("敬请期待")}}},[s("van-icon",{attrs:{name:"question-o"}}),s("span",[t._v("我的帮助")])],1),s("div",{staticClass:"content-item",on:{click:function(s){return t.$toast("敬请期待")}}},[s("van-icon",{attrs:{name:"balance-o"}}),s("span",[t._v("我的积分")])],1),s("div",{staticClass:"content-item",on:{click:function(s){return t.$router.push("/refund")}}},[s("van-icon",{attrs:{name:"refund-o",badge:t.refund?t.refund:null}}),s("span",[t._v("退换/售后")])],1)])]),t.isLogin?s("div",{staticClass:"logout-btn"},[s("button",{on:{click:t.userLogout}},[t._v("退出登录")])]):t._e()])},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"head-img"},[s("img",{attrs:{src:n(6945),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"info"},[s("div",{staticClass:"mobile"},[t._v("未登录")]),s("div",{staticClass:"words"},[t._v("点击登录账号")])])}],e=n(4620),r=n(6945),o={name:"UserPage",created(){this.isLogin&&(this.getUserInfo(),this.getUserAssets(),this.getTodoCounts())},activated(){this.isLogin&&(this.getUserInfo(),this.getUserAssets(),this.getTodoCounts())},data(){return{isLogin:this.$store.getters.ifToken,userInfo:{},balance:0,points:0,coupon:0,delivery:0,payment:0,received:0,refund:0}},computed:{avatar(){return this.userInfo.avatar||r}},methods:{async getUserInfo(){const{data:{userInfo:t}}=await(0,e.p8)();this.userInfo=t},userLogout(){this.$dialog.confirm({message:"您确定要退出吗"}).then((()=>{this.$store.dispatch("user/userLogout"),this.balance=0,this.points=0,this.coupon=0,this.delivery=0,this.payment=0,this.received=0,this.refund=0,this.isLogin=null})).catch((()=>{}))},async getUserAssets(){const{data:{assets:t}}=await(0,e.ux)();this.balance=t.balance,this.points=t.points,this.coupon=t.coupon},async getTodoCounts(){const{data:{counts:t}}=await(0,e.iw)();this.delivery=t.delivery,this.payment=t.payment,this.received=t.received,this.refund=t.refund}}},c=o,u=n(1001),l=(0,u.Z)(c,i,a,!1,null,"685c6acc",null),d=l.exports},4620:function(t,s,n){n.d(s,{iw:function(){return r},p8:function(){return a},ux:function(){return e}});var i=n(4471);const a=()=>(0,i.Z)({url:"/user/info"}),e=()=>(0,i.Z)({url:"/user/assets"}),r=()=>(0,i.Z)({url:"/order/todoCounts"})},6945:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEXp6en////9/f3o6Ojw8PDj4+Pl5eXh4eHs7Oz7+/v09PTy8vL4+Pj29vY+GdZKAAADDElEQVRYw+3Wv0sbYRjA8ZNwp+Li89YhUQO+b6F0PDTx6NBBtHXpcBDPRkvhakiC1CGghqIIyRCdOqQlHdouUoqlm1Co0KUZhK4tFPvn9MnF5n6+P4R2KT6EhJe8n3y5ewOJduXJXZNr8l+Tecd5uFu6CinbS18+LR06pjJxxl4ATuZD2anMaXMKxHkOl/P6LFVxCnJi3YXAvP34zZWR1A6E54aUVI8j5J4mIcZBRExLr8WKRk5cGdmHyFyYEqI3o2SqJiH5NkRHl5B9iE3HFBJjI07StpDoC3Ey7QrJfBviYwiJCwmzLCQ7SeRCSNaTyEtTQFKbSSTtishsIrEFxBi6Jn+FFAWk+iSR1PnEyHWTSObM5pJSG5KnxSWPgDMdk0ce88gMl6zzyE0uWRnsoWFyziUubiWMAiMM8AmdtwT4zL38fJcxRnAXw6EI+0sGBpfoTUJIbxfF6ZnL5aTNP/0DklSht1w+KVFK4xVY1vjkqEkSKtltAdH2IF6Bjisi1vd4BfSGiByukWiFjtvi35dKO1qBI01M8AZEKtmahKQ2wxVK07aEaCuRCj3XZKTSDl8L6FIyPESCFZisSYm2F76Wjisn5TZlgYrekJPWLPErdKKm8kfxGfgVODFVyHATBpXJbU2FpDYGdwzGi2rkzqBC064a2fIrSP5VZTZQsZVIa8i/Y1M1JTJ86p9LZrWhdpSB01c6SqtJ/ApM1RtSYmDErzB4b0uJc0qYXyEsUzUlpDoKNFgh9LZjCkn1KTAWqhD4umvyScrJUULDFTTvsMMhxu4YimiFUfhVLSSTvPsAUMQqhMKbw0ICGckXf3giVsEHZO6vxsiIVewC7kqsUAZksR4lerENjPAquCCLhTAxtrv4Lr+CT6Rlh4hzCpSKKozQrGUGiDUKjIkrjMBEvTEg+FXsfyJWiLfRm96LV+unGPy0B6R83NuI73qAeKq/9h4epjgZ6w/Rt8Db2EeBCq4DFdQztUuy2mWKA0d9oq8RVULTNY+UMaKcyfdIao+oE/rKRqIvsCtMtpT7DVEPKD7Ga13IAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=602.15ed3527.js.map