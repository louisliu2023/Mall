"use strict";(self["webpackChunkshopvue"]=self["webpackChunkshopvue"]||[]).push([[571],{5978:function(t,s,e){e.d(s,{Z:function(){return u}});var n=function(){var t=this,s=t._self._c;return s("div",t._l(t.myCouponList,(function(e,n){return s("div",{key:n,staticClass:"coupon-item",on:{click:function(s){return t.handleClick(e.user_coupon_id)}}},[s("div",{staticClass:"item-wrapper",class:["color-"+(e.state.value?t.color[n%t.color.length]:"gray")]},[s("div",{staticClass:"coupon-type"},[t._v(" "+t._s(t.CouponType(e.coupon_type))+" ")]),s("div",{staticClass:"tip dis-flex flex-dir-column flex-x-center"},[10==e.coupon_type?s("div",[s("span",{staticClass:"f-30"},[t._v("￥")]),s("span",{staticClass:"money"},[t._v(t._s(e.reduce_price))])]):t._e(),20==e.coupon_type?s("span",{staticClass:"money"},[t._v(t._s(e.discount)+"折")]):t._e(),s("span",{staticClass:"pay-line"},[t._v("满"+t._s(e.min_price)+"元可用")])]),s("div",{staticClass:"split-line"}),s("div",{staticClass:"content dis-flex flex-dir-column flex-x-between"},[s("div",{staticClass:"title"},[t._v(t._s(e.name))]),s("div",{staticClass:"bottom dis-flex flex-y-center"},[s("div",{staticClass:"time flex-box"},[e.start_time===e.end_time?s("span",[t._v(t._s(e.start_time)+" 当天有效")]):s("span",[t._v(t._s(e.start_time)+"~"+t._s(e.end_time))])]),s("div",{staticClass:"receive state"},[s("span",[t._v(t._s(e.state.text))])])])])])])})),0)},a=[],i={name:"MyCouponList",props:{myCouponList:{type:Array}},data(){return{color:["red","blue","violet","yellow"]}},methods:{CouponType(t){return 10===t?"满减券":"折扣券"},handleClick(t){this.$emit("onClickCoupon",t)}}},o=i,c=e(1001),l=(0,c.Z)(o,n,a,!1,null,"0657c3f0",null),u=l.exports},6571:function(t,s,e){e.r(s),e.d(s,{default:function(){return p}});var n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page-body"},[s("van-nav-bar",{attrs:{fixed:"",title:"我的优惠券","left-arrow":""},on:{"click-left":function(s){return t.$router.back()}}}),s("van-tabs",{attrs:{sticky:""},on:{click:t.onClick},model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[s("van-tab",{attrs:{title:"未使用",name:"isUnused"}}),s("van-tab",{attrs:{title:"已使用",name:"isUse"}}),s("van-tab",{attrs:{title:"已过期",name:"isExpire"}})],1),s("div",{staticClass:"coupon-list"},[t.myCouponList.length?s("MyCouponList",{attrs:{myCouponList:t.myCouponList}}):s("div",[t._v("没有更多了")])],1)],1)},a=[],i=e(2088),o=e(5978),c={name:"MyCoupon",components:{MyCouponList:o.Z},data(){return{activeName:"isUnused",page:1,myCouponList:[]}},methods:{async onClick(t){await this.getMyCouponList(t,this.page)},async getMyCouponList(t,s){const{data:{list:e}}=await(0,i.zw)(t,s);this.myCouponList=e.data}},created(){this.getMyCouponList(this.activeName,this.page)}},l=c,u=e(1001),r=(0,u.Z)(l,n,a,!1,null,"a186d194",null),p=r.exports},2088:function(t,s,e){e.d(s,{M:function(){return i},PX:function(){return a},zw:function(){return o}});var n=e(4471);const a=()=>n.Z.get("/coupon/list"),i=t=>(0,n.Z)({method:"post",url:"/myCoupon/receive",data:{couponId:t}}),o=(t,s)=>(0,n.Z)({url:"myCoupon/list",params:{dataType:t,page:s}})}}]);
//# sourceMappingURL=571.2bc2ccc1.js.map