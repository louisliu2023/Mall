"use strict";(self["webpackChunkshopvue"]=self["webpackChunkshopvue"]||[]).push([[593],{3593:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category"},[e("van-nav-bar",{attrs:{title:"全部分类",fixed:""}}),e("SearchBanner"),e("div",{staticClass:"list-box"},[e("div",{ref:"leftContainer",staticClass:"left"},[e("ul",t._l(t.list,(function(r,a){return e("li",{key:r.category_id},[e("a",{class:{active:a===t.activeIndex},attrs:{href:"javascript:;"},on:{click:function(e){return t.scrollToTop(a)}}},[t._v(t._s(r.name))])])})),0)]),e("div",{staticClass:"right"},[e("ul",{ref:"rightContainer",staticClass:"right-container"},[t._l(t.list[t.activeIndex]?.children,(function(r){return e("li",{key:r.category_id,staticClass:"cate-goods",on:{click:function(e){return t.toSearch(r.category_id,r.name)}}},[e("img",{attrs:{src:r.image?.external_url,alt:""}}),e("p",[t._v(t._s(r.name))])])})),t._l(t.list[t.activeIndex]?.children,(function(r){return e("li",{key:r.category_id+1e4,staticClass:"cate-goods",on:{click:function(e){return t.toSearch(r.category_id,r.name)}}},[e("img",{attrs:{src:r.image?.external_url,alt:""}}),e("p",[t._v(t._s(r.name))])])}))],2)])])],1)},i=[],s=(r(7658),r(5362)),n=r(4471);const o=()=>n.Z.get("/category/list");var c={name:"CategoryPage",components:{SearchBanner:s.Z},created(){console.log("created触发"),this.getCategoryList()},activated(){console.log("activated触发"),this.$refs.leftContainer.scrollTop=45*this.activeIndex,this.$refs.rightContainer.scrollTop=this.rightContainerScrollTop},beforeRouteLeave(t,e,r){this.rightContainerScrollTop=this.$refs.rightContainer.scrollTop,r()},data(){return{list:[],activeIndex:0,rightContainerScrollTop:0}},computed:{},methods:{async getCategoryList(){const t=await o();this.list=t.data.list},toSearch(t,e){this.$router.push(`/searchresult?catgryId=${t}&catgryName=${e}`)},scrollToTop(t){this.activeIndex=t,this.$refs.rightContainer.scroll({top:0,left:0}),this.$refs.leftContainer.scroll({left:0,top:45*this.activeIndex,behavior:"smooth"})}}},l=c,h=r(1001),u=(0,h.Z)(l,a,i,!1,null,"464863e8",null),g=u.exports}}]);
//# sourceMappingURL=593.cf753871.js.map