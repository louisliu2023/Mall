"use strict";(self["webpackChunkshopvue"]=self["webpackChunkshopvue"]||[]).push([[442],{1442:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var i=function(){var e=this,a=e._self._c;return a("div",{staticClass:"container"},[a("van-nav-bar",{attrs:{fixed:"",title:"添加收货地址","left-arrow":""},on:{"click-left":function(a){return e.$router.back()}}}),a("van-form",{attrs:{"show-error":!1},on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"name",label:"收货人",placeholder:"名字",maxlength:"25",rules:[{required:!0,message:"请填写收货人姓名"}],clearable:""},model:{value:e.name,callback:function(a){e.name="string"===typeof a?a.trim():a},expression:"name"}}),a("van-field",{attrs:{type:"digit",name:"phone",label:"手机号码",placeholder:"手机号",rules:[{required:!0,pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}],clearable:""},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}}),a("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:e.area,label:"所在地区",placeholder:"点击选择城市",rules:[{validator:e.isSelAdd,message:"请选择所在地区"}]},on:{click:function(a){e.showPicker=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(a){e.showPicker=a},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.areaList},on:{confirm:e.onConfirm,cancel:function(a){e.showPicker=!1}}})],1),a("van-field",{attrs:{name:"detail",label:"详细地址",placeholder:"小区楼栋/乡村名称",rules:[{required:!0,message:"请填写具体地址"}],clearable:""},model:{value:e.detail,callback:function(a){e.detail=a},expression:"detail"}}),a("van-field",{attrs:{name:"isDefault",label:"设为默认地址"},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-switch",{attrs:{size:"20"},model:{value:e.isDefault,callback:function(a){e.isDefault=a},expression:"isDefault"}})]},proxy:!0}])}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"danger","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},r=[],l=t(3822),s={name:"CreateAddress",data(){return{name:"",phone:"",provId:"",provLabel:"",cityId:"",cityLabel:"",regId:"",regLabel:"",detail:"",isDefault:!1,area:"",showPicker:!1}},computed:{...(0,l.rn)("areaList",["areaList"])},methods:{onSubmit(){const e={name:this.name,phone:this.phone,provId:this.provId,provLabel:this.provLabel,cityId:this.cityId,cityLabel:this.cityLabel,regId:this.regId,regLabel:this.regLabel,detail:this.detail};this.$store.dispatch("address/createAdd",e),this.$router.back()},onConfirm(e,a){const t=e.filter((e=>!!e));this.area=t.join("/");const i=a[0],r=a[1],l=a[2];this.provId=this.areaList[i].id,this.provLabel=e[0],this.cityId=this.areaList[i].children[r].id,this.cityLabel=e[1],this.regId=this.areaList[i].children[r].children[l].id,this.regLabel=e[2],this.showPicker=!1},isSelAdd(e){return!!this.regId}},created(){}},n=s,o=t(1001),c=(0,o.Z)(n,i,r,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=442.969e8c32.js.map