{"version":3,"file":"js/442.969e8c32.js","mappings":"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","sources":["webpack://shopvue/./src/views/Address/CreateAdd.vue","webpack://shopvue/src/views/Address/CreateAdd.vue","webpack://shopvue/./src/views/Address/CreateAdd.vue?f39f","webpack://shopvue/./src/views/Address/CreateAdd.vue?783e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"title\":\"添加收货地址\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('van-form',{attrs:{\"show-error\":false},on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"name\",\"label\":\"收货人\",\"placeholder\":\"名字\",\"maxlength\":\"25\",\"rules\":[{ required: true, message: '请填写收货人姓名' }],\"clearable\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}}),_c('van-field',{attrs:{\"type\":\"digit\",\"name\":\"phone\",\"label\":\"手机号码\",\"placeholder\":\"手机号\",\"rules\":[\n        {\n          required: true,\n          pattern: /^1[3-9]\\d{9}$/,\n          message: '请输入正确的手机号',\n        },\n      ],\"clearable\":\"\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"picker\",\"value\":_vm.area,\"label\":\"所在地区\",\"placeholder\":\"点击选择城市\",\"rules\":[{ validator: _vm.isSelAdd, message: '请选择所在地区' }]},on:{\"click\":function($event){_vm.showPicker = true}}}),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.areaList},on:{\"confirm\":_vm.onConfirm,\"cancel\":function($event){_vm.showPicker = false}}})],1),_c('van-field',{attrs:{\"name\":\"detail\",\"label\":\"详细地址\",\"placeholder\":\"小区楼栋/乡村名称\",\"rules\":[{ required: true, message: '请填写具体地址' }],\"clearable\":\"\"},model:{value:(_vm.detail),callback:function ($$v) {_vm.detail=$$v},expression:\"detail\"}}),_c('van-field',{attrs:{\"name\":\"isDefault\",\"label\":\"设为默认地址\"},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-switch',{attrs:{\"size\":\"20\"},model:{value:(_vm.isDefault),callback:function ($$v) {_vm.isDefault=$$v},expression:\"isDefault\"}})]},proxy:true}])}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"danger\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <van-nav-bar\r\n      fixed\r\n      title=\"添加收货地址\"\r\n      left-arrow\r\n      @click-left=\"$router.back()\"\r\n    />\r\n    <van-form @submit=\"onSubmit\" :show-error=\"false\">\r\n      <!-- 姓名 -->\r\n      <van-field\r\n        v-model.trim=\"name\"\r\n        name=\"name\"\r\n        label=\"收货人\"\r\n        placeholder=\"名字\"\r\n        maxlength=\"25\"\r\n        :rules=\"[{ required: true, message: '请填写收货人姓名' }]\"\r\n        clearable\r\n      />\r\n\r\n      <!-- 手机号 -->\r\n      <van-field\r\n        v-model=\"phone\"\r\n        type=\"digit\"\r\n        name=\"phone\"\r\n        label=\"手机号码\"\r\n        placeholder=\"手机号\"\r\n        :rules=\"[\r\n          {\r\n            required: true,\r\n            pattern: /^1[3-9]\\d{9}$/,\r\n            message: '请输入正确的手机号',\r\n          },\r\n        ]\"\r\n        clearable\r\n      />\r\n\r\n      <!-- 省市列表 -->\r\n      <van-field\r\n        readonly\r\n        clickable\r\n        name=\"picker\"\r\n        :value=\"area\"\r\n        label=\"所在地区\"\r\n        placeholder=\"点击选择城市\"\r\n        @click=\"showPicker = true\"\r\n        :rules=\"[{ validator: isSelAdd, message: '请选择所在地区' }]\"\r\n      />\r\n      <van-popup v-model=\"showPicker\" position=\"bottom\">\r\n        <van-picker\r\n          show-toolbar\r\n          :columns=\"areaList\"\r\n          @confirm=\"onConfirm\"\r\n          @cancel=\"showPicker = false\"\r\n        />\r\n      </van-popup>\r\n\r\n      <!-- 详细地址 -->\r\n      <van-field\r\n        v-model=\"detail\"\r\n        name=\"detail\"\r\n        label=\"详细地址\"\r\n        placeholder=\"小区楼栋/乡村名称\"\r\n        :rules=\"[{ required: true, message: '请填写具体地址' }]\"\r\n        clearable\r\n      />\r\n\r\n      <!-- 默认地址 -->\r\n      <van-field name=\"isDefault\" label=\"设为默认地址\">\r\n        <template #input>\r\n          <van-switch v-model=\"isDefault\" size=\"20\" />\r\n        </template>\r\n      </van-field>\r\n\r\n      <!-- 提交 -->\r\n      <div style=\"margin: 16px\">\r\n        <van-button round block type=\"danger\" native-type=\"submit\"\r\n          >保存</van-button\r\n        >\r\n      </div>\r\n    </van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'CreateAddress',\r\n\r\n  data () {\r\n    return {\r\n      name: '',\r\n      phone: '',\r\n      provId: '',\r\n      provLabel: '',\r\n      cityId: '',\r\n      cityLabel: '',\r\n      regId: '',\r\n      regLabel: '',\r\n      detail: '',\r\n      isDefault: false,\r\n\r\n      area: '',\r\n      showPicker: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('areaList', ['areaList'])\r\n  },\r\n\r\n  methods: {\r\n    onSubmit () {\r\n      const obj = {\r\n        name: this.name,\r\n        phone: this.phone,\r\n        provId: this.provId,\r\n        provLabel: this.provLabel,\r\n        cityId: this.cityId,\r\n        cityLabel: this.cityLabel,\r\n        regId: this.regId,\r\n        regLabel: this.regLabel,\r\n        detail: this.detail\r\n      }\r\n      this.$store.dispatch('address/createAdd', obj)\r\n      this.$router.back()\r\n    },\r\n\r\n    onConfirm (value, index) {\r\n      // console.log(value, index)\r\n      // The filter function checks if each item is truthy (not falsy) by using the double negation operator (!!item)\r\n      const arr = value.filter((item) => !!item)\r\n      this.area = arr.join('/')\r\n\r\n      const pIndex = index[0]\r\n      const cIndex = index[1]\r\n      const rIndex = index[2]\r\n\r\n      this.provId = this.areaList[pIndex].id\r\n      this.provLabel = value[0]\r\n      this.cityId = this.areaList[pIndex].children[cIndex].id\r\n      this.cityLabel = value[1]\r\n      this.regId = this.areaList[pIndex].children[cIndex].children[rIndex].id\r\n      this.regLabel = value[2]\r\n\r\n      this.showPicker = false\r\n    },\r\n\r\n    isSelAdd (val) {\r\n      if (this.regId) return true\r\n      else return false\r\n    }\r\n  },\r\n\r\n  created () {\r\n    // this.$store.dispatch('areaList/getAreaList')\r\n    // console.log(this.areaList)\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  padding: 48px 21px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateAdd.vue?vue&type=template&id=68a84e10&\"\nimport script from \"./CreateAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreateAdd.vue?vue&type=style&index=0&id=68a84e10&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","onSubmit","required","message","model","value","name","callback","$$v","trim","expression","pattern","phone","area","validator","isSelAdd","showPicker","areaList","onConfirm","detail","scopedSlots","_u","key","fn","isDefault","proxy","staticStyle","_v","staticRenderFns","data","provId","provLabel","cityId","cityLabel","regId","regLabel","computed","mapState","methods","obj","$store","dispatch","index","arr","filter","item","join","pIndex","cIndex","rIndex","id","children","val","created","component"],"sourceRoot":""}