"use strict";(self["webpackChunkshopvue"]=self["webpackChunkshopvue"]||[]).push([[761],{2761:function(e,i,t){t.r(i),t.d(i,{default:function(){return h}});var a=function(){var e=this,i=e._self._c;return i("div",{staticClass:"container"},[i("van-nav-bar",{attrs:{fixed:"",title:"修改收货地址","left-arrow":""},on:{"click-left":function(i){return e.$router.back()}}}),i("van-form",{attrs:{"show-error":!1},on:{submit:e.onSubmit}},[i("van-field",{attrs:{name:"name",label:"收货人",placeholder:"名字",rules:[{required:!0,message:"请填写收货人姓名"}],clearable:""},model:{value:e.name,callback:function(i){e.name="string"===typeof i?i.trim():i},expression:"name"}}),i("van-field",{attrs:{type:"digit",name:"phone",label:"手机号码",placeholder:"手机号",rules:[{required:!0,pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}],clearable:""},model:{value:e.phone,callback:function(i){e.phone=i},expression:"phone"}}),i("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:e.area,label:"所在地区",placeholder:"点击选择城市"},on:{click:function(i){e.showPicker=!0}}}),i("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(i){e.showPicker=i},expression:"showPicker"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:e.areaList},on:{confirm:e.onConfirm,cancel:function(i){e.showPicker=!1}}})],1),i("van-field",{attrs:{name:"detail",label:"详细地址",placeholder:"小区楼栋/乡村名称",rules:[{required:!0,message:"请填写具体地址"}],clearable:""},model:{value:e.detail,callback:function(i){e.detail=i},expression:"detail"}}),i("van-field",{attrs:{name:"isDefault",label:"设为默认地址"},scopedSlots:e._u([{key:"input",fn:function(){return[i("van-switch",{attrs:{size:"20"},model:{value:e.isDefault,callback:function(i){e.isDefault=i},expression:"isDefault"}})]},proxy:!0}])}),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",block:"",type:"danger","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},r=[],n=t(3822),s=t(170),l={name:"EditAddress",data(){return{addressId:this.$route.query.editedid,name:"",phone:"",provId:"",provLabel:"",cityId:"",cityLabel:"",regId:"",regLabel:"",detail:"",area:"",isDefault:!1,showPicker:!1}},computed:{...(0,n.rn)("areaList",["areaList"])},methods:{async initForm(e){const{data:{detail:i}}=await(0,s.rn)(e),t=i;this.name=t.name,this.phone=t.phone,this.provId=t.province_id,this.provLabel=t.region.province,this.cityId=t.city_id,this.cityLabel=t.region.city,this.regId=t.region_id,this.regLabel=t.region.region,this.detail=t.detail,this.area=t.region.province+"/"+t.region.city+"/"+t.region.region},async onSubmit(){const e={addressId:this.addressId,name:this.name,phone:this.phone,provId:this.provId,provLabel:this.provLabel,cityId:this.cityId,cityLabel:this.cityLabel,regId:this.regId,regLabel:this.regLabel,detail:this.detail};await(0,s.U5)(e),this.$router.back()},onConfirm(e,i){const t=e.filter((e=>!!e));this.area=t.join("/");const a=i[0],r=i[1],n=i[2];this.provId=this.areaList[a].id,this.provLabel=e[0],this.cityId=this.areaList[a].children[r].id,this.cityLabel=e[1],this.regId=this.areaList[a].children[r].children[n].id,this.regLabel=e[2],this.showPicker=!1}},created(){this.initForm(this.addressId)}},o=l,c=t(1001),d=(0,c.Z)(o,a,r,!1,null,null,null),h=d.exports}}]);
//# sourceMappingURL=761.6fa37261.js.map